<?xml version="1.0" encoding="UTF-8"?>
<section>
  <title>Interactive Console Command Line Operation</title>
  <para>
      This section serves to document the basic methods of operation
      available through the interactive console's command line interface.  
      It is currently in rough draft status.
  </para>

  <section>
    <title>General Operational Principles</title>
    <para>
      The command line interface to the system available through the 
      interactive console operates in a fashion similar to Cisco's <trademark>IOS</trademark>, 
      in that there are various "levels" or "sets"/"sub-sets" of commands 
      within the interface.  Operations and operands may be tab-completed 
      or abbreviated to their un-ambiguous form as needed or desired 
      (analogous to "configure terminal" becoming "conf t" in common IOS 
      usage).
    </para>
  </section>

  <section>
    <title>Accessing the Interactive Console</title>
    <para>
      The interactive console is accessed by telneting to the configured
      access port on the host running <command>noitd</command>.  By default this is
      port 32322.  The applicable configuration parameter in the <command>noitd.conf</command>
      XML file is the port attribute of the "listener" element, e.g.:
      <programlisting><![CDATA[
      <listener address="*" port="32322">
        ]]></programlisting> Please see the configuration section of
      the manual for more information.
    </para>
  </section>

  <section>
    <title>Basic Command List</title>
    <para>An example session of interaction showing the use of help and a few 
      operating modes is illustrative:
      <screen>
      noit# help
      = Topics =
      ==&gt; 'module'

      = Commands =
      ==&gt; 'apply'
      ==&gt; 'configure'
      ==&gt; 'exit'
      ==&gt; 'no'
      ==&gt; 'reload'
      ==&gt; 'restart'
      ==&gt; 'show'
      ==&gt; 'shutdown'
      ==&gt; 'watch'
      ==&gt; 'write'
      noit# help module
      Help for 'module':
      = Loaders and Modules =
      lua
      ping_icmp
      smtp
      ssh2
      varnish
      selfcheck
      resmon
      http
      snmp
      noit# configure {tab pressed twice}
      ==&gt; 'apply'
      ==&gt; 'terminal'
      incomplete command.
      noit# conf t
      noit(conf:/)# ls
      == Section Settings ==
      @lockfile: /var/run/noitd.lock
      == Subsections ==
      eventer
      logs
      modules
      listeners
      rest
      checks
      filtersets
      config_templates
      noit(conf:/)# help
      -&gt; 'terminal'
      = Topics =
      ==&gt; 'module'

      = Commands =
      ==&gt; 'apply'
      ==&gt; 'attribute'
      ==&gt; 'cd'
      ==&gt; 'check'
      ==&gt; 'config'
      ==&gt; 'exit'
      ==&gt; 'filterset'
      ==&gt; 'ls'
      ==&gt; 'no'
      ==&gt; 'section'
      ==&gt; 'write'
      </screen>

      <variablelist>
        <title>Command Descriptions</title>

        <varlistentry>
          <term>help</term>
          <listitem>
            <para><command>help</command> provides brief help information appropriate to a given context.</para>
          </listitem>
        </varlistentry>
        
        <varlistentry>
          <term>exit</term>
          <listitem>
            <para><command>exit</command> terminates the interactive session..</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>configure</term>
          <listitem>
            <para><command>configure</command> causes the session to enter configuration mode if used with the <command>terminal</command> argument or FIXME: does something with apply, not sure what.</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>write</term>
          <listitem>
            <para><command>write</command> writes the current operating configuration to: the permanent configuration store (<command>noitd.conf</command> by default, in the location specified either at startup with -c or in the default compile-time system directory) with <command>file</command> argument (<command>memory</command> is an alias), or to the current interactive display with the <command>terminal</command> argument.</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>reload</term>
          <listitem>
            <para><command>reload</command> causes <command>noitd</command> to reload configuration information from the permanent configuration store (<command>noitd.conf</command> by default, in the location specified either at startup with -c or in the default compile-time system directory).</para>
          </listitem>
        </varlistentry>

        <varlistentry>
            <term>restart</term>
            <listitem>
              <para><command>restart</command> causes <command>noitd</command> to restart, re-reading all configuration from the permanent configuration store in the process. As part of restarting, the current interactive session is terminated.</para>
            </listitem>
        </varlistentry>

        <varlistentry>
            <term>shutdown</term>
            <listitem>
              <para><command>shutdown</command> causes <command>noitd</command> to shut down entirely.</para>
            </listitem>
        </varlistentry>

      </variablelist>
    </para>
  </section>
      
</section>
<!--
vim:ts=2:sw=2:et:
-->
